!function(){"use strict";(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i))&&document.querySelector("html").classList.add("is-ios");var t=$("body"),a=$("#nav-check");a.on("change",function(){this.checked?t.addClass("overflow-960"):t.removeClass("overflow-960")}),$(".nav").on("click",function(t){a[0].checked&&($(t.target).closest(".nav__sub-link").length||$(t.target).closest(".nav__link").length)&&a.trigger("click")});var s=$("#js-streamCurrent"),n=$("#js-streamStations"),e=n.find(".stream__station").eq(0),i=e.attr("data-link");function r(t){var a=t.attr("data-name")?'<div class="stream__current-name">'+t.attr("data-name")+"</div>":"",e=t.attr("data-volume")?'<div class="stream__current-volume">'+t.attr("data-volume")+"</div>":"",i=t.find("img").clone().removeClass("stream__icon").addClass("stream__current-icon");s.empty().append(i),s.append('<div class="stream__current-info">'+a+e+"</div>")}e.addClass("stream__station--active"),r(e),n.slick({dots:!1,infinite:!0,speed:300,slidesToShow:1,touchMove:!1,centerMode:!1,variableWidth:!0,appendArrows:"#js-streamListContainer"});var c=new Playerjs({id:"js-streamPlayer",file:i}),o=n.find(".slick-slide"),d=n.find(".stream__station"),l=$("#js-streamPrev"),v=$("#js-streamNext");function m(){var t=n.find(".slick-current");if(t.find(".stream__station--active").length)return t.index();var e=0,i=t.index(),s=i;return $.each(n.find(".stream__station--active").closest(".slick-slide"),function(t){if(0===t)s=$(this).index(),e=Math.abs(i-s);else{var a=Math.abs(i-$(this).index());a<e&&(s=$(this).index(),e=a)}}),s}d.on("click",function(){var t=$(this).attr("data-link");c.api("play",t);var a=n.find('[data-link="'+t+'"]');d.removeClass("stream__station--active"),a.addClass("stream__station--active"),r($(this))}),v.on("click",function(){var t=m();o.eq(t+1).find(".stream__station").trigger("click"),n.slick("slickGoTo",t)}),l.on("click",function(){var t=m()-1;o.eq(t).find(".stream__station").trigger("click"),n.slick("slickGoTo",t-1)})}();