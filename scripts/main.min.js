!function(){"use strict";(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i))&&document.querySelector("html").classList.add("is-ios");var t=$("body");$("#nav-check").on("change",function(){$(this).is(":checked")?t.addClass("overflow-960"):t.removeClass("overflow-960")});var s=$("#js-streamCurrent"),n=$("#js-streamStations"),a=n.find(".stream__station").eq(0),e=a.attr("data-link");function i(t){var a=t.attr("data-name")?'<div class="stream__current-name">'+t.attr("data-name")+"</div>":"",e=t.attr("data-volume")?'<div class="stream__current-volume">'+t.attr("data-volume")+"</div>":"",i=t.find("img").clone().removeClass("stream__icon").addClass("stream__current-icon");s.empty().append(i),s.append('<div class="stream__current-info">'+a+e+"</div>")}a.addClass("stream__station--active"),i(a),n.slick({dots:!1,infinite:!0,speed:300,slidesToShow:1,touchMove:!1,centerMode:!1,variableWidth:!0,appendArrows:"#js-streamListContainer"});var r=new Playerjs({id:"js-streamPlayer",file:e}),c=n.find(".slick-slide"),o=n.find(".stream__station"),d=$("#js-streamPrev"),l=$("#js-streamNext");function v(){var t=n.find(".slick-current");if(t.find(".stream__station--active").length)return t.index();var e=0,i=t.index(),s=i;return $.each(n.find(".stream__station--active").closest(".slick-slide"),function(t){if(0===t)s=$(this).index(),e=Math.abs(i-s);else{var a=Math.abs(i-$(this).index());a<e&&(s=$(this).index(),e=a)}}),s}o.on("click",function(){var t=$(this).attr("data-link");r.api("play",t);var a=n.find('[data-link="'+t+'"]');o.removeClass("stream__station--active"),a.addClass("stream__station--active"),i($(this))}),l.on("click",function(){var t=v();c.eq(t+1).find(".stream__station").trigger("click"),n.slick("slickGoTo",t)}),d.on("click",function(){var t=v()-1;c.eq(t).find(".stream__station").trigger("click"),n.slick("slickGoTo",t-1)})}();