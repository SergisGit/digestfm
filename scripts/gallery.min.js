!function(){"use strict";var e=$("body"),t=$(".js-galleryList");t.length&&$.each(t,function(){$(this).magnificPopup({delegate:"a",type:"image",fixedContentPos:!1,tLoading:"Loading...",mainClass:"mfp-img-popup",closeBtnInside:!1,closeOnBgClick:!0,gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:"Не удалось загрузить",navigateByImgClick:!0,titleSrc:function(e){var t="",i="",a=e.el.siblings(".card__info").find(".card__title"),n=e.el.siblings(".card__info").find(".card__time");return a.length&&(t=a.text()),n.length&&(i=n.text()),t.length&&i.length?'<div class="mfp-title-time">'+i+'</div><div class="mfp-title-heading">'+t+"</div>":t.length?'<div class="mfp-title-heading">'+t+"</div>":void 0}},callbacks:{open:function(){e.addClass("overflow");var o=$.magnificPopup.instance;document.querySelector(".mfp-container").addEventListener("touchstart",function(e){l=e.touches[0].clientX,s=e.touches[0].clientY},!1),document.querySelector(".mfp-container").addEventListener("touchmove",function(e){if(!l||!s)return;var t=e.touches[0].clientX,i=e.touches[0].clientY,a=l-t,n=s-i;150<Math.abs(a)+Math.abs(n)&&(Math.abs(a)>Math.abs(n)&&(0<a?o.next():o.prev()),s=l=null)},!1);var l=null,s=null},close:function(){e.removeClass("overflow")}}})});var i=$(".js-videoList");i.length&&$.each(i,function(){$(this).magnificPopup({delegate:"a",type:"iframe",fixedContentPos:!1,tLoading:"Loading...",mainClass:"mfp-img-popup",closeBtnInside:!1,closeOnBgClick:!0,gallery:{enabled:!0,navigateByImgClick:!0,tCounter:"",preload:[0,1]},iframe:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div>',patterns:{youtube:{index:"youtube.com/",id:"v=",src:"https://www.youtube.com/embed/%id%?autoplay=1"},youtube2:{index:"youtu.be/",id:"/",src:"https://www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"https://player.vimeo.com/video/%id%?autoplay=1"}},srcAction:"iframe_src"},callbacks:{open:function(){e.addClass("overflow")},close:function(){e.removeClass("overflow")}}})});var a=$(".js-audio");a.length&&$.each(a,function(e){var t=$(this),i="js-audio-"+(1+e);t.attr("id",i);var a=t.attr("data-link");new Playerjs({id:i,file:a,player:2})})}();